<div id="card"><div class="fields">
  <%= form_for(@response, :remote => true) do |f| %>
    <% if @response.errors.any? %>
      <div id="error_explanation">
        <% if @response.errors[:name].any? %>
          Please tell us your name!
          <script type="text/javascript">
            $(function() { $('#response_name').focus(); });
          </script>
        <% elsif @response.errors[:guests].any? %>
          How many will be joining you?
          <script type="text/javascript">
            $(function() { $('#response_guests').focus(); });
          </script>
        <% else %>
          Internal error: please call Elliott at 404-376-3172.
        <% end %>
      </div>
    <% end %>

    <p>Hello!</p>

    <div>I'm <%= f.text_field :name %> and I
      <div class="radiorow">
        <%= f.radio_button :attending, 'yes' %>
        will attend with
        <%= f.text_field :guests %>
        additional <span id="guests_text">guests</span>.
      </div>
      <div class="radiorow">
        <%= f.radio_button :attending, 'no' %>
        will be unable to attend.
      </div>
    </div>

    <div class="actions">
      <%= f.submit f.object.new_record? ? 'Send' : 'Update' %>
    </div>

  <% end %>
</div></div>

<script type="text/javascript" charset="utf-8">
  $(function() {
    $('form').responseform();
  });
</script>
